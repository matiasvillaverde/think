# SwiftLint Configuration for AppStoreConnectCLI
# Follows project's permissive pattern with essential safety rules

# Included/Excluded paths
included:
  - Sources
  - Tests

# Essential rules that are always enabled for safety and code quality
opt_in_rules:
  - force_unwrapping                     # Prevent runtime crashes

force_unwrapping: error
line_length:
  warning: 100
  error: 120

# Disabled rules - following project's permissive pattern
disabled_rules:
  - trailing_whitespace
  - vertical_whitespace
  - opening_brace
  - comma
  - function_name_whitespace
  - return_arrow_whitespace
  - statement_position
  - vertical_parameter_alignment
  - vertical_parameter_alignment_on_call
  - closure_parameter_position
  - multiline_parameters
  - multiline_arguments
  - multiline_function_chains
  - multiline_literal_brackets
  - multiline_parameters_brackets
  - function_parameter_count
  - type_body_length
  - file_length
  - function_body_length
  - cyclomatic_complexity
  - nesting
  - large_tuple
  - identifier_name
  - type_name
  - inclusive_language
  - orphaned_doc_comment
  - missing_docs
  - todo  # TODOs are acceptable for this phase of development

# Custom rules for CLI-specific patterns

custom_rules:
  no_direct_color_literals:
    name: "No direct Color literals"
    regex: '(^|[^A-Za-z0-9_])Color[.](red|green|blue|orange|yellow|pink|purple|gray|black|white|clear|primary|secondary)'
    message: "Use UIComponents Color tokens (UIComponents/Sources/UIComponents/Color.swift) instead of Color.red/Color.gray/etc."
    severity: error
  no_color_primary_secondary_shorthand:
    name: "No .primary/.secondary shorthand"
    regex: '[.](foregroundColor|foregroundStyle)[(][ ]*[.](primary|secondary)[ ]*[)]'
    message: "Use Color.textPrimary/Color.textSecondary (tokens) instead of .primary/.secondary."
    severity: error
  no_system_color_constructors:
    name: "No UIColor/NSColor construction"
    regex: '(^|[^A-Za-z0-9_])Color[(][ ]*(UIColor|NSColor)[.]'
    message: "Use UIComponents Color tokens backed by Assets.xcassets."
    severity: error
  no_rgb_color_construction:
    name: "No RGB Color construction"
    regex: '(^|[^A-Za-z0-9_])Color[(][ ]*(red[ ]*:|[.]sRGB)'
    message: "Define colors in UIComponents Assets.xcassets and expose via Color.swift."
    severity: error
  no_color_hex_initializer:
    name: "No Color(hex:) construction"
    regex: '(^|[^A-Za-z0-9_])(Color[(][ ]*hex[ ]*:|[.]init[(][ ]*hex[ ]*:)'
    message: "Use Color.userProvided(hex:) for user colors; otherwise define colors in Assets.xcassets."
    severity: error
